# ğŸ“ H2T-English Backend ğŸš€

<div align="center">
  <img src="https://img.shields.io/badge/Spring%20Boot-3.2+-brightgreen?style=for-the-badge&logo=spring&logoColor=white" alt="Spring Boot"/>
  <img src="https://img.shields.io/badge/Java-17+-orange?style=for-the-badge&logo=java&logoColor=white" alt="Java"/>
  <img src="https://img.shields.io/badge/MySQL-8.0+-blue?style=for-the-badge&logo=mysql&logoColor=white" alt="MySQL"/>
  <img src="https://img.shields.io/badge/AI-Integrated-purple?style=for-the-badge&logo=openai&logoColor=white" alt="AI"/>
</div>

---

## ğŸ“‹ Giá»›i thiá»‡u dá»± Ã¡n

**H2T-English** lÃ  má»™t há»‡ thá»‘ng backend cho website há»c táº­p tiáº¿ng Anh tÃ­ch há»£p AI Ä‘Ã¡nh giÃ¡ káº¿t quáº£ há»c táº­p, Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng Spring Boot. Dá»± Ã¡n nÃ y lÃ  luáº­n vÄƒn tá»‘t nghiá»‡p ngÃ nh CÃ´ng nghá»‡ ThÃ´ng tin táº¡i **TrÆ°á»ng Äáº¡i há»c SÆ° pháº¡m Ká»¹ thuáº­t ThÃ nh phá»‘ Há»“ ChÃ­ Minh (HCMUTE)**.

### ğŸ¯ Má»¥c tiÃªu dá»± Ã¡n
- ğŸŒ XÃ¢y dá»±ng má»™t ná»n táº£ng há»c táº­p tiáº¿ng Anh toÃ n diá»‡n
- ğŸ¤– TÃ­ch há»£p AI Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ tá»± Ä‘á»™ng ká»¹ nÄƒng viáº¿t vÃ  nÃ³i
- ğŸ‘¥ Cung cáº¥p há»‡ thá»‘ng quáº£n lÃ½ há»c táº­p cÃ³ phÃ¢n quyá»n rÃµ rÃ ng
- ğŸ“Š Há»— trá»£ cÃ¡c bÃ i kiá»ƒm tra TOEIC chuáº©n quá»‘c táº¿

---

## ğŸ“‘ Má»¥c lá»¥c

<div align="center">

| ğŸ“– Pháº§n | ğŸ”— LiÃªn káº¿t |
|---------|-------------|
| ğŸ“‹ Giá»›i thiá»‡u dá»± Ã¡n | [#-giá»›i-thiá»‡u-dá»±-Ã¡n](#-giá»›i-thiá»‡u-dá»±-Ã¡n) |
| ğŸ‘¥ ThÃ´ng tin nhÃ³m | [#-thÃ´ng-tin-nhÃ³m-thá»±c-hiá»‡n](#-thÃ´ng-tin-nhÃ³m-thá»±c-hiá»‡n) |
| âœ¨ TÃ­nh nÄƒng chÃ­nh | [#-tÃ­nh-nÄƒng-chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh) |
| ğŸ› ï¸ CÃ´ng nghá»‡ | [#ï¸-cÃ´ng-nghá»‡-sá»­-dá»¥ng](#ï¸-cÃ´ng-nghá»‡-sá»­-dá»¥ng) |
| ğŸš€ CÃ i Ä‘áº·t & Cháº¡y | [#-cÃ i-Ä‘áº·t-vÃ -cháº¡y-dá»±-Ã¡n](#-cÃ i-Ä‘áº·t-vÃ -cháº¡y-dá»±-Ã¡n) |
| ğŸ—ï¸ Cáº¥u trÃºc dá»± Ã¡n | [#ï¸-cáº¥u-trÃºc-dá»±-Ã¡n](#ï¸-cáº¥u-trÃºc-dá»±-Ã¡n) |
| ğŸ“š API Endpoints | [#-api-endpoints-theo-controller](#-api-endpoints-theo-controller) |
| ğŸ”’ XÃ¡c thá»±c | [#-xÃ¡c-thá»±c-vÃ -phÃ¢n-quyá»n](#-xÃ¡c-thá»±c-vÃ -phÃ¢n-quyá»n) |
| ğŸ›¡ï¸ Xá»­ lÃ½ lá»—i | [#ï¸-há»‡-thá»‘ng-xá»­-lÃ½-lá»—i](#ï¸-há»‡-thá»‘ng-xá»­-lÃ½-lá»—i) |
| ğŸ—„ï¸ Database | [#ï¸-cáº¥u-trÃºc-database](#ï¸-cáº¥u-trÃºc-database) |
| ğŸ“ˆ Performance | [#-hiá»‡u-suáº¥t-vÃ -kháº£-nÄƒng-má»Ÿ-rá»™ng](#-hiá»‡u-suáº¥t-vÃ -kháº£-nÄƒng-má»Ÿ-rá»™ng) |
| ğŸ§ª Testing | [#-testing-vÃ -documentation](#-testing-vÃ -documentation) |

</div>

---

## ğŸ‘¥ ThÃ´ng tin nhÃ³m thá»±c hiá»‡n

<div align="center">

### ğŸ“ **Luáº­n vÄƒn tá»‘t nghiá»‡p HCMUTE** ğŸ«

<table>
<tr>
<td align="center">
<img src="https://avatars.githubusercontent.com/u/97101001?s=400&u=c2e995d2acff0cb120417bf042d6c1205bd4bbb4&v=4" width="100px;" alt="Nguyá»…n Trung Háº­u"/><br />
<b>ğŸ‘‘ Nguyá»…n Trung Háº­u</b><br />
<sub>ğŸ†” 21110434</sub><br />
<sub>ğŸ’» Backend Developer</sub><br />
<sub>ğŸ† TrÆ°á»Ÿng nhÃ³m</sub>
</td>
<td align="center">
<img src="https://avatars.githubusercontent.com/u/113422566?v=4" width="100px;" alt="CÃ¡p LÃª Há»¯u TÃ¢n"/><br />
<b>ğŸ‘¨â€ğŸ’» CÃ¡p LÃª Há»¯u TÃ¢n</b><br />
<sub>ğŸ†” 21110920</sub><br />
<sub>ğŸ’» Backend Developer</sub>
</td>
<td align="center">
<img src="https://avatars.githubusercontent.com/u/123963752?s=400&u=c2e995d2acff0cb120417bf042d6c1205bd4bbb4&v=4" width="100px;" alt="ThÃ¡i Thanh HÆ°ng"/><br />
<b>ğŸ‘¨â€ğŸ’» ThÃ¡i Thanh HÆ°ng</b><br />
<sub>ğŸ†” 21110487</sub><br />
<sub>ğŸ’» Backend Developer</sub>
</td>
</tr>
</table>

ğŸ“– **Äá» tÃ i:** Thiáº¿t káº¿ vÃ  xÃ¢y dá»±ng website há»c táº­p tiáº¿ng anh tÃ­ch há»£p AI Ä‘Ã¡nh giÃ¡ káº¿t quáº£ há»c táº­p

</div>

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ¤– TÃ­nh nÄƒng AI
- ğŸ“ **Cháº¥m Ä‘iá»ƒm bÃ i viáº¿t tá»± Ä‘á»™ng** - Sá»­ dá»¥ng AI Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ vÄƒn phong, ngá»¯ phÃ¡p vÃ  tá»« vá»±ng
- ğŸ—£ï¸ **Cháº¥m Ä‘iá»ƒm bÃ i nÃ³i tá»± Ä‘á»™ng** - PhÃ¢n tÃ­ch phÃ¡t Ã¢m, Ä‘á»™ trÃ´i cháº£y vÃ  Ä‘á»™ chÃ­nh xÃ¡c
- ğŸ”Š **Text-to-Speech** - Chuyá»ƒn Ä‘á»•i vÄƒn báº£n thÃ nh giá»ng nÃ³i tá»± nhiÃªn
- ğŸ“Š **Quáº£n lÃ½ pháº£n há»“i AI** - Há»‡ thá»‘ng Ä‘Ã¡nh giÃ¡ vÃ  quáº£n lÃ½ káº¿t quáº£ AI

### ğŸ“ Há»‡ thá»‘ng há»c táº­p
- ğŸ—ºï¸ **Lá»™ trÃ¬nh há»c cÃ³ cáº¥u trÃºc** - Tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao
- ğŸ“š **BÃ i há»c Ä‘a dáº¡ng** - Tá»« vá»±ng, ngá»¯ phÃ¡p, nghe, nÃ³i, Ä‘á»c, viáº¿t
- âœ… **BÃ i kiá»ƒm tra ká»¹ nÄƒng** - ÄÃ¡nh giÃ¡ tá»«ng ká»¹ nÄƒng riÃªng biá»‡t
- ğŸ† **BÃ i thi TOEIC** - Luyá»‡n thi TOEIC chuáº©n quá»‘c táº¿
- ğŸ¥‡ **BÃ i thi thi Ä‘áº¥u** - CÃ³ báº£ng xáº¿p háº¡ng cho ngÆ°á»i há»c

### ğŸ‘¤ Há»‡ thá»‘ng phÃ¢n quyá»n

<div align="center">

| Vai trÃ² | Icon | Quyá»n háº¡n |
|---------|------|-----------|
| ğŸŸ¢ **Há»c sinh** (STUDENT) | ğŸ“– | Truy cáº­p lá»™ trÃ¬nh há»c, lÃ m bÃ i kiá»ƒm tra, quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n |
| ğŸŸ¡ **GiÃ¡o viÃªn** (TEACHER) | ğŸ‘¨â€ğŸ« | Quáº£n lÃ½ lá»™ trÃ¬nh há»c, táº¡o bÃ i há»c, quáº£n lÃ½ bÃ i kiá»ƒm tra |
| ğŸŸ  **GiÃ¡o viÃªn nÃ¢ng cao** (TEACHER_ADVANCE) | ğŸ‘¨â€ğŸ”¬ | Quáº£n lÃ½ bÃ i thi TOEIC, Ä‘Ã¡nh giÃ¡ káº¿t quáº£ AI + quyá»n giÃ¡o viÃªn |
| ğŸ”´ **Admin** (ADMIN) | ğŸ‘¨â€ğŸ’¼ | Quáº£n lÃ½ toÃ n há»‡ thá»‘ng, ngÆ°á»i dÃ¹ng, error logs |

</div>

### ğŸ›¡ï¸ TÃ­nh nÄƒng báº£o máº­t vÃ  xá»­ lÃ½ lá»—i
- ğŸš¨ **Xá»­ lÃ½ lá»—i thÃ´ng minh** - Tá»± Ä‘á»™ng táº¡o error log vÃ  gá»­i thÃ´ng bÃ¡o Discord
- ğŸ” **JWT Authentication** - Báº£o máº­t vá»›i access token vÃ  refresh token
- ğŸ”‘ **PhÃ¢n quyá»n chi tiáº¿t** - Kiá»ƒm soÃ¡t truy cáº­p theo vai trÃ²
- ğŸŒ **CORS Configuration** - Cáº¥u hÃ¬nh báº£o máº­t cho frontend

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### ğŸ’¼ Framework Backend
<div align="center">
<img src="https://img.shields.io/badge/Spring%20Boot-6DB33F?style=for-the-badge&logo=spring&logoColor=white" alt="Spring Boot"/>
<img src="https://img.shields.io/badge/Spring%20Security-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white" alt="Spring Security"/>
<img src="https://img.shields.io/badge/Spring%20Data%20JPA-6DB33F?style=for-the-badge&logo=spring&logoColor=white" alt="Spring Data JPA"/>
</div>

- ğŸš€ **Spring Boot** - Framework chÃ­nh
- ğŸ›¡ï¸ **Spring Security** - Báº£o máº­t vÃ  xÃ¡c thá»±c
- ğŸ’¾ **Spring Data JPA** - ORM vÃ  truy cáº­p database
- âœ… **Spring Validation** - Validation dá»¯ liá»‡u

### ğŸ—„ï¸ Database & Storage
<div align="center">
<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white" alt="MySQL"/>
<img src="https://img.shields.io/badge/MinIO-C72E29?style=for-the-badge&logo=minio&logoColor=white" alt="MinIO"/>
</div>

- ğŸ¬ **MySQL 8** - Database chÃ­nh
- ğŸ“ **MinIO** - Object storage cho file

### ğŸ” Báº£o máº­t & XÃ¡c thá»±c
<div align="center">
<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=jsonwebtokens&logoColor=white" alt="JWT"/>
</div>

- ğŸ« **JWT (Nimbus JOSE)** - Token-based authentication
- ğŸ”’ **BCrypt** - Hash password

### ğŸŒ APIs bÃªn ngoÃ i
<div align="center">
<img src="https://custom-icon-badges.demolab.com/badge/Deepseek-4D6BFF?logo=deepseek&logoColor=white" alt="DeepSeek" height="30"/>
<img src="https://img.shields.io/badge/Discord-5865F2?style=for-the-badge&logo=discord&logoColor=white" alt="Discord" height="30"/>
</div>

- ğŸ§  **OpenRouter** - LLM API cho tÃ­nh nÄƒng AI
- ğŸ”‘ **Google OAuth** - ÄÄƒng nháº­p Google
- ğŸ“§ **Email Service** - Gá»­i email xÃ¡c thá»±c

### ğŸ“š Documentation & Development
<div align="center">
<img src="https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=black" alt="Swagger"/>
<img src="https://img.shields.io/badge/MapStruct-E97627?style=for-the-badge&logo=java&logoColor=white" alt="MapStruct"/>
<img src="https://img.shields.io/badge/Lombok-BC4A32?style=for-the-badge&logo=lombok&logoColor=white" alt="Lombok"/>
</div>

- ğŸ“– **Swagger/OpenAPI** - TÃ i liá»‡u API
- ğŸ”„ **MapStruct** - Object mapping
- ğŸ§¹ **Lombok** - Giáº£m boilerplate code

---

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y dá»± Ã¡n

### ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng
<div align="center">
<img src="https://img.shields.io/badge/Java-17+-orange?style=for-the-badge&logo=java&logoColor=white" alt="Java"/>
<img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker"/>
<img src="https://img.shields.io/badge/Maven-C71A36?style=for-the-badge&logo=apachemaven&logoColor=white" alt="Maven"/>
</div>

### ğŸ³ 1. Khá»Ÿi táº¡o cÃ¡c container cáº§n thiáº¿t

```bash
# ğŸ¬ MySQL Database
docker run --detach \
  --env MYSQL_ROOT_PASSWORD=123456 \
  --env MYSQL_USER=study-english \
  --env MYSQL_PASSWORD=123456 \
  --env MYSQL_DATABASE=study-english \
  --name mysql \
  --publish 3307:3306 \
  mysql:8-oracle

# ğŸ“ LanguageTool (Kiá»ƒm tra ngá»¯ phÃ¡p)
docker run -d -p 8081:8010 erikvl87/languagetool

# ğŸ¤ Vosk (Speech-to-Text)
docker run -d -p 7860:7860 trunghauad02/speech-evaluation-app

# ğŸ”Š Kokoro (Text-to-Speech)
docker run -p 8880:8880 ghcr.io/remsky/kokoro-fastapi-cpu:latest
```

### âš™ï¸ 2. Cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng

Táº¡o file `application.properties` vÃ  thay tháº¿ cÃ¡c giÃ¡ trá»‹ **[THAY_Äá»”I_Táº I_ÄÃ‚Y]** báº±ng thÃ´ng tin tháº­t:

```properties
# ğŸ“± ThÃ´ng tin á»©ng dá»¥ng
spring.application.name=h2t-backside

# ğŸ—„ï¸ Cáº¥u hÃ¬nh Database
spring.datasource.url=jdbc:mysql://localhost:3307/study-english
spring.datasource.username=root
spring.datasource.password=123456
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# ğŸ« Cáº¥u hÃ¬nh JWT
jwt.signerkey=[THAY_Äá»”I_JWT_SECRET_KEY_Táº I_ÄÃ‚Y]
security.jwt.expiration.access=86400000
security.jwt.expiration.refresh=2592000000

# ğŸ“§ Cáº¥u hÃ¬nh Email
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=[THAY_Äá»”I_EMAIL_Táº I_ÄÃ‚Y]
spring.mail.password=[THAY_Äá»”I_APP_PASSWORD_Táº I_ÄÃ‚Y]

# ğŸ“ Cáº¥u hÃ¬nh MinIO
minio.endpoint=http://138.2.91.94:9000
minio.accessKey=[THAY_Äá»”I_MINIO_ACCESS_KEY_Táº I_ÄÃ‚Y]
minio.secretKey=[THAY_Äá»”I_MINIO_SECRET_KEY_Táº I_ÄÃ‚Y]
minio.bucketName=h2t-english

# ğŸ§  OpenRouter (LLM)
openrouter.api.key=[THAY_Äá»”I_OPENROUTER_API_KEY_Táº I_ÄÃ‚Y]
openrouter.api.url=https://openrouter.ai/api/v1/chat/completions
openrouter.model=deepseek/deepseek-chat-v3-0324:free

# ğŸ”‘ Google OAuth
gg_client_id=[THAY_Äá»”I_GOOGLE_CLIENT_ID_Táº I_ÄÃ‚Y]
gg_client_secret_id=[THAY_Äá»”I_GOOGLE_CLIENT_SECRET_Táº I_ÄÃ‚Y]

# ğŸ”Š Text-to-Speech
tts.api.url=http://localhost:8880/v1/audio
tts.voice.audio.directory=./voiceAudio

# ğŸ¤ Speech-to-Text
vosk.api.url=http://localhost:7860/api

# ğŸ’¬ Quote API
quote.api.url=https://api.api-ninjas.com/v1/quotes
quote.api.key=[THAY_Äá»”I_QUOTE_API_KEY_Táº I_ÄÃ‚Y]

# ğŸš¨ Discord Webhook
discord.webhook.url=[THAY_Äá»”I_DISCORD_WEBHOOK_URL_Táº I_ÄÃ‚Y]

# ğŸ“¤ Cáº¥u hÃ¬nh File Upload
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
server.tomcat.connection-timeout=300000ms
```

### ğŸƒâ€â™‚ï¸ 3. Cháº¡y á»©ng dá»¥ng

```bash
# ğŸ“¥ Clone repository
git clone <repository-url>
cd h2t-english-backend

# ğŸ”¨ Build project
mvn clean install

# â–¶ï¸ Cháº¡y á»©ng dá»¥ng
mvn spring-boot:run
```

### âœ… 4. Kiá»ƒm tra káº¿t ná»‘i

<div align="center">

| Service | URL | MÃ´ táº£ |
|---------|-----|-------|
| ğŸ“– **API Documentation** | http://localhost:8080/swagger-ui.html | TÃ i liá»‡u API tÆ°Æ¡ng tÃ¡c |
| ğŸ—„ï¸ **H2 Console** | http://localhost:8080/h2-console | Console database (náº¿u Ä‘Æ°á»£c báº­t) |
| â¤ï¸ **Health Check** | http://localhost:8080/actuator/health | Kiá»ƒm tra sá»©c khá»e há»‡ thá»‘ng |

</div>

---

## ğŸ—ï¸ Cáº¥u trÃºc dá»± Ã¡n

### ğŸ“ Tá»•ng quan cáº¥u trÃºc thÆ° má»¥c

```
ğŸ“¦ src/
â”œâ”€â”€ ğŸ“‚ main/
â”‚   â”œâ”€â”€ â˜• java/com/englishweb/h2t_backside/
â”‚   â”‚   â”œâ”€â”€ ğŸš€ H2tBacksideApplication.java           # Main class khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ âš™ï¸ config/                              # Cáº¥u hÃ¬nh há»‡ thá»‘ng
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ MinioConfig.java                 # Cáº¥u hÃ¬nh MinIO storage
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸŒ controller/                          # REST API Controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ¤– ai/                             # Controllers cho tÃ­nh nÄƒng AI
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ—£ï¸ ScoreSpeakingController.java # Cháº¥m Ä‘iá»ƒm bÃ i nÃ³i
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ”Š TextToSpeechController.java  # Text-to-Speech
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ” auth/                           # Controllers xÃ¡c thá»±c
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ« AuthenticateController.java # ÄÄƒng nháº­p/Ä‘Äƒng xuáº¥t
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ‘¤ UserController.java         # Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
â”‚   â”‚   â”‚   â”œâ”€â”€ â­ feature/                        # Controllers tÃ­nh nÄƒng chÃ­nh
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“Š AdminDashboardController.java # Dashboard admin
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ MinioController.java        # Quáº£n lÃ½ file
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“š lesson/                         # Controllers ná»™i dung há»c
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ GrammarController.java      # BÃ i há»c ngá»¯ phÃ¡p
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“– VocabularyController.java   # Tá»« vá»±ng
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“Š test/                           # Controllers kiá»ƒm tra
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ† ToeicController.java        # BÃ i thi TOEIC
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ¥‡ CompetitionTestController.java # BÃ i thi Ä‘áº¥u
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‹ dto/                                # Data Transfer Objects
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ¤– ai/                            # DTOs cho AI features
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ—£ï¸ SpeakingScoreDTO.java      # Káº¿t quáº£ cháº¥m Ä‘iá»ƒm nÃ³i
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ âœï¸ WritingScoreDTO.java       # Káº¿t quáº£ cháº¥m Ä‘iá»ƒm viáº¿t
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“š lesson/                        # DTOs ná»™i dung há»c
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ GrammarDTO.java            # DTO bÃ i há»c ngá»¯ phÃ¡p
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“– VocabularyDTO.java         # DTO tá»« vá»±ng
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ” filter/                        # DTOs cho filtering
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‹ LessonFilterDTO.java       # Filter bÃ i há»c
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“¤ response/                      # DTOs pháº£n há»“i
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“¨ ResponseDTO.java           # Response wrapper chung
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸš¨ exception/                          # Xá»­ lÃ½ ngoáº¡i lá»‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ›¡ï¸ GlobalExceptionHandler.java    # Handler lá»—i toÃ n cá»¥c
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ” AuthenticateException.java     # Lá»—i xÃ¡c thá»±c
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ”„ mapper/                            # Object Mapping (MapStruct)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“š lesson/                        # Mappers cho lesson
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ GrammarMapper.java         # Mapper Grammar entity <-> DTO
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“Š test/                          # Mappers cho test
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ† ToeicMapper.java           # Mapper TOEIC entity <-> DTO
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ—ƒï¸ model/                             # Entities (JPA Models)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ·ï¸ enummodel/                     # Enum definitions
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ‘¤ RoleEnum.java              # Enum vai trÃ² ngÆ°á»i dÃ¹ng
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“Š TestTypeEnum.java          # Enum loáº¡i bÃ i kiá»ƒm tra
â”‚   â”‚   â”‚   â”œâ”€â”€ â­ features/                      # Core feature entities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ‘¤ User.java                  # Entity ngÆ°á»i dÃ¹ng
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ—ºï¸ Route.java                 # Entity lá»™ trÃ¬nh há»c
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“š lesson/                        # Learning content entities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Grammar.java               # Entity bÃ i há»c ngá»¯ phÃ¡p
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“– Vocabulary.java            # Entity tá»« vá»±ng
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“Š test/                          # Test entities
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ† Toeic.java                 # Entity bÃ i thi TOEIC
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ¥‡ CompetitionTest.java       # Entity bÃ i thi Ä‘áº¥u
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ” repository/                        # Data Access Layer
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“š lesson/                        # Repositories cho lesson
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ GrammarRepository.java     # Repository bÃ i há»c ngá»¯ phÃ¡p
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“Š test/                          # Repositories cho test
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ† ToeicRepository.java       # Repository TOEIC
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ” specifications/                # JPA Specifications
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“‹ LessonSpecification.java   # Specs cho lesson queries
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ” security/                          # Báº£o máº­t vÃ  xÃ¡c thá»±c
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ« JwtUtil.java                   # Utilities JWT
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ›¡ï¸ SecurityConfig.java            # Cáº¥u hÃ¬nh Spring Security
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ’¼ service/                           # Business Logic Layer
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ¤– ai/                           # Services cho AI features
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ—£ï¸ ScoreSpeakingService.java # Logic cháº¥m Ä‘iá»ƒm nÃ³i
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ impl/                     # Implementations
â”‚   â”‚   â”‚   â”œâ”€â”€ â­ feature/                      # Core feature services
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ‘¤ UserService.java          # Logic quáº£n lÃ½ ngÆ°á»i dÃ¹ng
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ impl/                     # Implementations
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“š lesson/                       # Learning content services
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ GrammarService.java       # Logic bÃ i há»c ngá»¯ phÃ¡p
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ impl/                     # Implementations
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“Š test/                         # Test services
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ† ToeicService.java         # Logic bÃ i thi TOEIC
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ impl/                     # Implementations
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ› ï¸ utils/                            # Utilities vÃ  Helpers
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ LessonPagination.java         # PhÃ¢n trang bÃ i há»c
â”‚   â”‚       â””â”€â”€ âœ… ValidationData.java           # Validation utilities
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“¦ resources/                            # TÃ i nguyÃªn á»©ng dá»¥ng
â”‚       â”œâ”€â”€ âš™ï¸ application.properties            # Cáº¥u hÃ¬nh á»©ng dá»¥ng
â”‚       â””â”€â”€ ğŸ“š wordnet/                         # WordNet dictionary data
â”‚           â”œâ”€â”€ ğŸ“ data.noun                    # Danh tá»«
â”‚           â””â”€â”€ ğŸ” index.verb                   # Äá»™ng tá»«
â”‚
â””â”€â”€ ğŸ§ª test/                                    # Unit Tests
    â””â”€â”€ â˜• java/com/englishweb/h2t_backside/
        â””â”€â”€ ğŸ§ª H2tBacksideApplicationTests.java # Test class chÃ­nh
```

### ğŸ’¡ Giáº£i thÃ­ch cÃ¡c package chÃ­nh

#### ğŸ¯ **Controller Layer** (`controller/`)
Chá»©a cÃ¡c REST API controllers Ä‘Æ°á»£c phÃ¢n nhÃ³m theo chá»©c nÄƒng:
- ğŸ¤– **`ai/`** - CÃ¡c endpoint AI nhÆ° cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng, text-to-speech
- ğŸ” **`auth/`** - XÃ¡c thá»©c, Ä‘Äƒng nháº­p, quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- â­ **`feature/`** - CÃ¡c tÃ­nh nÄƒng chÃ­nh nhÆ° dashboard, file management
- ğŸ“š **`lesson/`** - Quáº£n lÃ½ ná»™i dung há»c táº­p (grammar, vocabulary, etc.)
- ğŸ“Š **`test/`** - Quáº£n lÃ½ bÃ i kiá»ƒm tra vÃ  thi (TOEIC, competition)

#### ğŸ“‹ **DTO Layer** (`dto/`)
Data Transfer Objects Ä‘á»ƒ truyá»n dá»¯ liá»‡u giá»¯a cÃ¡c layer:
- ğŸ¤– **`ai/`** - DTOs cho AI responses vÃ  requests
- ğŸ“š **`lesson/`** - DTOs cho ná»™i dung há»c táº­p
- ğŸ” **`filter/`** - DTOs cho filtering vÃ  searching
- ğŸ“¤ **`response/`** - DTOs cho API responses

#### ğŸ›¡ï¸ **Exception Handling** (`exception/`)
Quáº£n lÃ½ lá»—i toÃ n há»‡ thá»‘ng vá»›i cÃ¡c custom exceptions vÃ  global handler.

#### ğŸ”„ **Mapper Layer** (`mapper/`)
Sá»­ dá»¥ng MapStruct Ä‘á»ƒ convert giá»¯a Entities vÃ  DTOs má»™t cÃ¡ch tá»± Ä‘á»™ng.

#### ğŸ—ƒï¸ **Model Layer** (`model/`)
JPA Entities Ä‘áº¡i diá»‡n cho cÃ¡c báº£ng database:
- ğŸ·ï¸ **`enummodel/`** - CÃ¡c enum definitions
- â­ **`features/`** - Core entities (User, Route, etc.)
- ğŸ“š **`lesson/`** - Entities cho ná»™i dung há»c táº­p
- ğŸ“Š **`test/`** - Entities cho bÃ i kiá»ƒm tra

#### ğŸ” **Repository Layer** (`repository/`)
Data Access Layer vá»›i JPA Repositories vÃ  Specifications cho complex queries.

#### ğŸ” **Security Layer** (`security/`)
Xá»­ lÃ½ JWT authentication vÃ  Spring Security configuration.

#### ğŸ’¼ **Service Layer** (`service/`)
Business Logic Layer Ä‘Æ°á»£c tá»• chá»©c theo pattern Interface + Implementation:
- ğŸ¤– **`ai/`** - Logic xá»­ lÃ½ AI features
- â­ **`feature/`** - Logic cÃ¡c tÃ­nh nÄƒng chÃ­nh
- ğŸ“š **`lesson/`** - Logic quáº£n lÃ½ ná»™i dung há»c
- ğŸ“Š **`test/`** - Logic bÃ i kiá»ƒm tra

#### ğŸ› ï¸ **Utils** (`utils/`)
CÃ¡c utility classes vÃ  helper functions cho pagination, validation, etc.

### ğŸ›ï¸ Kiáº¿n trÃºc tá»•ng quan

Dá»± Ã¡n sá»­ dá»¥ng **Layered Architecture** vá»›i cÃ¡c layer rÃµ rÃ ng:

<div align="left">

```
ğŸŒ Controller â†â†’ ğŸ’¼ Service â†â†’ ğŸ” Repository â†â†’ ğŸ—„ï¸ Database
      â†•             â†•
    ğŸ“‹ DTO       ğŸ—ƒï¸ Entity/Model
      â†•
   ğŸ”„ Mapper
```

</div>

1. ğŸŒ **Controller** nháº­n requests vÃ  tráº£ vá» responses
2. ğŸ’¼ **Service** chá»©a business logic
3. ğŸ” **Repository** truy cáº­p database
4. ğŸ”„ **Mapper** convert giá»¯a DTO vÃ  Entity
5. ğŸ›¡ï¸ **Exception Handler** xá»­ lÃ½ lá»—i toÃ n há»‡ thá»‘ng

---

## ğŸ“š API Endpoints theo Controller

### ğŸ” Authentication Controller (`/api/auth`)
- `POST /api/auth/login` - ğŸ”‘ ÄÄƒng nháº­p vá»›i email vÃ  máº­t kháº©u
- `POST /api/auth/login-with-google` - ğŸ” ÄÄƒng nháº­p báº±ng Google OAuth
- `POST /api/auth/logout` - ğŸšª ÄÄƒng xuáº¥t khá»i há»‡ thá»‘ng
- `POST /api/auth/refresh-token` - ğŸ”„ LÃ m má»›i access token
- `GET /api/auth/validate-token` - âœ… Kiá»ƒm tra tÃ­nh há»£p lá»‡ cá»§a token

### ğŸ‘¤ User Controller (`/api/users`)
- `GET /api/users` - ğŸ“‹ Láº¥y danh sÃ¡ch ngÆ°á»i dÃ¹ng (cÃ³ phÃ¢n trang vÃ  lá»c)
- `POST /api/users` - â• Táº¡o tÃ i khoáº£n ngÆ°á»i dÃ¹ng má»›i
- `GET /api/users/{id}` - ğŸ‘€ Láº¥y thÃ´ng tin chi tiáº¿t ngÆ°á»i dÃ¹ng
- `PUT /api/users/{id}` - âœï¸ Cáº­p nháº­t thÃ´ng tin ngÆ°á»i dÃ¹ng
- `DELETE /api/users/{id}` - ğŸ—‘ï¸ XÃ³a tÃ i khoáº£n ngÆ°á»i dÃ¹ng
- `GET /api/users/{userId}/process-by-route-id/{routeId}` - ğŸ“Š Láº¥y tiáº¿n Ä‘á»™ há»c cá»§a user theo lá»™ trÃ¬nh
- `GET /api/users/{userId}/complete-route-node/{routeNodeId}` - âœ… HoÃ n thÃ nh má»™t nÃºt trong lá»™ trÃ¬nh

### ğŸ—‚ï¸ Topic Controller (`/api/topics`)
- `GET /api/topics` - ğŸ“‹ Láº¥y danh sÃ¡ch chá»§ Ä‘á» há»c táº­p
- `POST /api/topics` - â• Táº¡o chá»§ Ä‘á» má»›i
- `GET /api/topics/{id}` - ğŸ‘€ Láº¥y thÃ´ng tin chi tiáº¿t chá»§ Ä‘á»
- `PUT /api/topics/{id}` - âœï¸ Cáº­p nháº­t thÃ´ng tin chá»§ Ä‘á»
- `DELETE /api/topics/{id}` - ğŸ—‘ï¸ XÃ³a chá»§ Ä‘á»
- `GET /api/topics/{id}/verify` - âœ… XÃ¡c thá»±c chá»§ Ä‘á»
- `GET /api/topics/questions` - â“ Láº¥y cÃ¢u há»i theo chá»§ Ä‘á»

### ğŸ“– Vocabulary Controller (`/api/vocabularies`)
- `GET /api/vocabularies` - ğŸ“‹ Láº¥y danh sÃ¡ch tá»« vá»±ng theo chá»§ Ä‘á»
- `POST /api/vocabularies` - â• ThÃªm tá»« vá»±ng má»›i
- `GET /api/vocabularies/{id}` - ğŸ‘€ Láº¥y thÃ´ng tin chi tiáº¿t tá»« vá»±ng
- `PUT /api/vocabularies/{id}` - âœï¸ Cáº­p nháº­t tá»« vá»±ng
- `DELETE /api/vocabularies/{id}` - ğŸ—‘ï¸ XÃ³a tá»« vá»±ng

### ğŸ“ Grammar Controller (`/api/grammars`)
- `GET /api/grammars` - ğŸ“‹ Láº¥y danh sÃ¡ch bÃ i há»c ngá»¯ phÃ¡p
- `POST /api/grammars` - â• Táº¡o bÃ i há»c ngá»¯ phÃ¡p má»›i
- `GET /api/grammars/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t bÃ i há»c ngá»¯ phÃ¡p
- `PUT /api/grammars/{id}` - âœï¸ Cáº­p nháº­t bÃ i há»c ngá»¯ phÃ¡p
- `DELETE /api/grammars/{id}` - ğŸ—‘ï¸ XÃ³a bÃ i há»c ngá»¯ phÃ¡p
- `GET /api/grammars/{id}/verify` - âœ… XÃ¡c thá»±c bÃ i há»c ngá»¯ phÃ¡p
- `GET /api/grammars/questions` - â“ Láº¥y cÃ¢u há»i ngá»¯ phÃ¡p

### ğŸ‘‚ Listening Controller (`/api/listenings`)
- `GET /api/listenings` - ğŸ“‹ Láº¥y danh sÃ¡ch bÃ i há»c nghe
- `POST /api/listenings` - â• Táº¡o bÃ i há»c nghe má»›i
- `GET /api/listenings/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t bÃ i há»c nghe
- `PUT /api/listenings/{id}` - âœï¸ Cáº­p nháº­t bÃ i há»c nghe
- `DELETE /api/listenings/{id}` - ğŸ—‘ï¸ XÃ³a bÃ i há»c nghe
- `GET /api/listenings/{id}/verify` - âœ… XÃ¡c thá»±c bÃ i há»c nghe
- `GET /api/listenings/questions` - â“ Láº¥y cÃ¢u há»i theo bÃ i nghe

### ğŸ‘ï¸ Reading Controller (`/api/readings`)
- `GET /api/readings` - ğŸ“‹ Láº¥y danh sÃ¡ch bÃ i há»c Ä‘á»c
- `POST /api/readings` - â• Táº¡o bÃ i há»c Ä‘á»c má»›i
- `GET /api/readings/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t bÃ i há»c Ä‘á»c
- `PUT /api/readings/{id}` - âœï¸ Cáº­p nháº­t bÃ i há»c Ä‘á»c
- `DELETE /api/readings/{id}` - ğŸ—‘ï¸ XÃ³a bÃ i há»c Ä‘á»c
- `GET /api/readings/{id}/verify` - âœ… XÃ¡c thá»±c bÃ i há»c Ä‘á»c
- `GET /api/readings/questions` - â“ Láº¥y cÃ¢u há»i theo bÃ i Ä‘á»c

### ğŸ—£ï¸ Speaking Controller (`/api/speakings`)
- `GET /api/speakings` - ğŸ“‹ Láº¥y danh sÃ¡ch bÃ i há»c nÃ³i
- `POST /api/speakings` - â• Táº¡o bÃ i há»c nÃ³i má»›i
- `GET /api/speakings/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t bÃ i há»c nÃ³i
- `PUT /api/speakings/{id}` - âœï¸ Cáº­p nháº­t bÃ i há»c nÃ³i
- `DELETE /api/speakings/{id}` - ğŸ—‘ï¸ XÃ³a bÃ i há»c nÃ³i
- `GET /api/speakings/{id}/verify` - âœ… XÃ¡c thá»±c bÃ i há»c nÃ³i

### âœï¸ Writing Controller (`/api/writings`)
- `GET /api/writings` - ğŸ“‹ Láº¥y danh sÃ¡ch bÃ i há»c viáº¿t
- `POST /api/writings` - â• Táº¡o bÃ i há»c viáº¿t má»›i
- `GET /api/writings/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t bÃ i há»c viáº¿t
- `PUT /api/writings/{id}` - âœï¸ Cáº­p nháº­t bÃ i há»c viáº¿t
- `DELETE /api/writings/{id}` - ğŸ—‘ï¸ XÃ³a bÃ i há»c viáº¿t
- `GET /api/writings/{id}/verify` - âœ… XÃ¡c thá»±c bÃ i há»c viáº¿t

### ğŸ“Š Test Controller (`/api/tests`)
- `GET /api/tests` - ğŸ“‹ Láº¥y danh sÃ¡ch bÃ i kiá»ƒm tra
- `POST /api/tests` - â• Táº¡o bÃ i kiá»ƒm tra má»›i
- `GET /api/tests/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t bÃ i kiá»ƒm tra
- `PUT /api/tests/{id}` - âœï¸ Cáº­p nháº­t bÃ i kiá»ƒm tra
- `DELETE /api/tests/{id}` - ğŸ—‘ï¸ XÃ³a bÃ i kiá»ƒm tra
- `GET /api/tests/{id}/verify` - âœ… XÃ¡c thá»±c bÃ i kiá»ƒm tra

### ğŸ“ˆ TOEIC Controller (`/api/toeic`)
- `GET /api/toeic` - ğŸ“‹ Láº¥y danh sÃ¡ch Ä‘á» thi TOEIC
- `POST /api/toeic` - â• Táº¡o Ä‘á» thi TOEIC má»›i
- `GET /api/toeic/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t Ä‘á» thi TOEIC
- `PUT /api/toeic/{id}` - âœï¸ Cáº­p nháº­t Ä‘á» thi TOEIC
- `DELETE /api/toeic/{id}` - ğŸ—‘ï¸ XÃ³a Ä‘á» thi TOEIC
- `GET /api/toeic/{id}/verify` - âœ… XÃ¡c thá»±c Ä‘á» thi TOEIC

### ğŸ† Competition Test Controller (`/api/competition-tests`)
- `GET /api/competition-tests` - ğŸ“‹ Láº¥y danh sÃ¡ch cuá»™c thi
- `POST /api/competition-tests` - â• Táº¡o cuá»™c thi má»›i
- `GET /api/competition-tests/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t cuá»™c thi
- `PUT /api/competition-tests/{id}` - âœï¸ Cáº­p nháº­t cuá»™c thi
- `DELETE /api/competition-tests/{id}` - ğŸ—‘ï¸ XÃ³a cuá»™c thi
- `GET /api/competition-tests/{id}/verify` - âœ… XÃ¡c thá»±c cuá»™c thi

### ğŸ›£ï¸ Route Controller (`/api/routes`)
- `GET /api/routes` - ğŸ“‹ Láº¥y danh sÃ¡ch lá»™ trÃ¬nh há»c
- `POST /api/routes` - â• Táº¡o lá»™ trÃ¬nh há»c má»›i
- `GET /api/routes/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t lá»™ trÃ¬nh há»c
- `PUT /api/routes/{id}` - âœï¸ Cáº­p nháº­t lá»™ trÃ¬nh há»c
- `DELETE /api/routes/{id}` - ğŸ—‘ï¸ XÃ³a lá»™ trÃ¬nh há»c
- `GET /api/routes/{id}/verify` - âœ… XÃ¡c thá»±c lá»™ trÃ¬nh há»c
- `GET /api/routes/longest` - ğŸ“ Láº¥y lá»™ trÃ¬nh dÃ i nháº¥t

### ğŸ¤– AI Features Controllers

#### ğŸ”Š Text-to-Speech Controller (`/api/text-to-speech`)
- `POST /api/text-to-speech` - ğŸ—£ï¸ Chuyá»ƒn Ä‘á»•i vÄƒn báº£n thÃ nh giá»ng nÃ³i
- `GET /api/text-to-speech/voices` - ğŸ¤ Láº¥y danh sÃ¡ch giá»ng nÃ³i cÃ³ sáºµn

#### âœï¸ Score Writing Controller (`/api/score-writing`)
- `POST /api/score-writing` - ğŸ“ Cháº¥m Ä‘iá»ƒm bÃ i viáº¿t sá»­ dá»¥ng AI

#### ğŸ—£ï¸ Score Speaking Controller (`/api/score-speaking`)
- `POST /api/score-speaking` - ğŸ¤ Cháº¥m Ä‘iá»ƒm bÃ i nÃ³i sá»­ dá»¥ng AI
- `POST /api/score-speaking/speech-in-topic` - ğŸ’¬ Cháº¥m Ä‘iá»ƒm nÃ³i theo chá»§ Ä‘á»
- `POST /api/score-speaking/multiple` - ğŸµ Cháº¥m Ä‘iá»ƒm nhiá»u file Ã¢m thanh

#### ğŸ§  LLM Controller (`/api/llm`)
- `POST /api/llm` - ğŸ’­ Gá»­i prompt Ä‘áº¿n AI model vÃ  nháº­n pháº£n há»“i

#### ğŸ¤– AI Response Controller (`/api/ai-response`)
- `GET /api/ai-response` - ğŸ“‹ Láº¥y danh sÃ¡ch pháº£n há»“i AI
- `GET /api/ai-response/teacher-view` - ğŸ‘¨â€ğŸ« Xem pháº£n há»“i AI dÃ nh cho giÃ¡o viÃªn
- `GET /api/ai-response/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t pháº£n há»“i AI
- `PUT /api/ai-response/{id}` - âœï¸ Cáº­p nháº­t Ä‘Ã¡nh giÃ¡ pháº£n há»“i AI

### ğŸ“Š Dashboard Controllers

#### ğŸ‘¨â€ğŸ’¼ Admin Dashboard (`/api/admin/dashboard`)
- `GET /api/admin/dashboard` - ğŸ“ˆ Láº¥y thá»‘ng kÃª tá»•ng quan cho admin

#### ğŸ‘¨â€ğŸ« Teacher Dashboard (`/api/teacher-dashboard`)
- `GET /api/teacher-dashboard` - ğŸ“Š Láº¥y thá»‘ng kÃª cho giÃ¡o viÃªn

#### ğŸ‘¨â€ğŸ”¬ Teacher Advance Dashboard (`/api/teacher-advance/dashboard`)
- `GET /api/teacher-advance/dashboard` - ğŸ“ˆ Láº¥y thá»‘ng kÃª cho giÃ¡o viÃªn nÃ¢ng cao

### ğŸ“§ Email Controller (`/api/email`)
- `POST /api/email/send-otp` - ğŸ“¤ Gá»­i mÃ£ OTP qua email
- `POST /api/email/verify-otp` - âœ… XÃ¡c thá»±c mÃ£ OTP
- `POST /api/email/reset-password` - ğŸ”„ Äáº·t láº¡i máº­t kháº©u

### ğŸ“ MinIO Controller (`/api/minio`)
- `POST /api/minio` - ğŸ“¤ Upload file lÃªn MinIO storage
- `GET /api/minio/{objectName}` - ğŸ“¥ Download file tá»« MinIO
- `DELETE /api/minio` - ğŸ—‘ï¸ XÃ³a file khá»i MinIO

### ğŸ  Home Controller (`/api/home`)
- `GET /api/home/hero-info` - ğŸ“Š Láº¥y thÃ´ng tin thá»‘ng kÃª trang chá»§
- `GET /api/home/quotes` - ğŸ’¬ Láº¥y cÃ¢u quote ngáº«u nhiÃªn
- `GET /api/home/feature-lesson/most-viewed` - ğŸ‘€ Láº¥y bÃ i há»c Ä‘Æ°á»£c xem nhiá»u nháº¥t
- `GET /api/home/feature-lesson/most-recent` - ğŸ†• Láº¥y bÃ i há»c má»›i nháº¥t
- `GET /api/home/routes/recent` - ğŸ—ºï¸ Láº¥y lá»™ trÃ¬nh má»›i nháº¥t
- `GET /api/home/routes/longest` - ğŸ“ Láº¥y lá»™ trÃ¬nh dÃ i nháº¥t
- `GET /api/home/tests/recent` - ğŸ“Š Láº¥y bÃ i kiá»ƒm tra má»›i nháº¥t
- `GET /api/home/toeic/recent` - ğŸ† Láº¥y Ä‘á» TOEIC má»›i nháº¥t
- `GET /api/home/competition-tests/recent` - ğŸ¥‡ Láº¥y cuá»™c thi má»›i nháº¥t

### ğŸ“ Submit Controllers (Ná»™p bÃ i)
- **Submit Test** (`/api/submit-tests`) - ğŸ“¤ Quáº£n lÃ½ viá»‡c ná»™p bÃ i kiá»ƒm tra
- **Submit TOEIC** (`/api/submit-toeic`) - ğŸ† Quáº£n lÃ½ viá»‡c ná»™p bÃ i TOEIC
- **Submit Competition** (`/api/submit-competitions`) - ğŸ¥‡ Quáº£n lÃ½ viá»‡c ná»™p bÃ i thi Ä‘áº¥u

### ğŸ“‹ Error Log Controller (`/api/error-logs`)
- `GET /api/error-logs` - ğŸ“‹ Láº¥y danh sÃ¡ch error logs
- `GET /api/error-logs/{id}` - ğŸ‘€ Láº¥y chi tiáº¿t error log
- `DELETE /api/error-logs/{id}` - ğŸ—‘ï¸ XÃ³a error log
- `DELETE /api/error-logs/bulk` - ğŸ—‘ï¸ XÃ³a nhiá»u error logs

---

## ğŸ”’ XÃ¡c thá»±c vÃ  PhÃ¢n quyá»n

### ğŸ« Cáº¥u trÃºc JWT Token

<div align="center">

| Token Type | â° Thá»i gian | ğŸ“‹ Claims | ğŸ¯ Sá»­ dá»¥ng |
|------------|-------------|----------|------------|
| ğŸ”‘ **Access Token** | 24 giá» | id, email, role, token_type | XÃ¡c thá»±c API |
| ğŸ”„ **Refresh Token** | 30 ngÃ y | id, email, is_refresh, token_type | LÃ m má»›i token |

</div>

### ğŸ›¡ï¸ Cáº¥u hÃ¬nh báº£o máº­t

- ğŸŒ **Public Endpoints:** XÃ¡c thá»±c, xÃ¡c minh email, trang chá»§
- ğŸ” **Protected Endpoints:** Táº¥t cáº£ `/api/**` trá»« public endpoints
- ğŸŒ **CORS:** ÄÆ°á»£c cáº¥u hÃ¬nh cho `http://localhost:3000`
- âœ… **JWT Validation:** Tá»± Ä‘á»™ng kiá»ƒm tra token vá»›i phÃ¢n quyá»n theo vai trÃ²

### ğŸ‘¥ Kiá»ƒm soÃ¡t truy cáº­p theo vai trÃ²

```java
// ğŸ”´ VÃ­ dá»¥: Chá»‰ ADMIN má»›i cÃ³ thá»ƒ quáº£n lÃ½ ngÆ°á»i dÃ¹ng
@PreAuthorize("hasRole('ADMIN')")
public ResponseEntity<PageUserDTO> getUsers() { ... }

// ğŸŸ¡ VÃ­ dá»¥: TEACHER trá»Ÿ lÃªn cÃ³ thá»ƒ quáº£n lÃ½ bÃ i há»c
@PreAuthorize("hasAnyRole('TEACHER', 'TEACHER_ADVANCE', 'ADMIN')")
public ResponseEntity<LessonDTO> createLesson() { ... }
```

---

## ğŸ›¡ï¸ Há»‡ thá»‘ng xá»­ lÃ½ lá»—i

### ğŸš¨ Quáº£n lÃ½ lá»—i toÃ n diá»‡n

#### ğŸ¯ Global Exception Handler
- âŒ **Lá»—i Validation** - MethodArgumentNotValidException
- ğŸ” **KhÃ´ng tÃ¬m tháº¥y tÃ i nguyÃªn** - ResourceNotFoundException
- ğŸ” **Lá»—i xÃ¡c thá»±c** - AuthenticateException
- ğŸŒ **Lá»—i API bÃªn ngoÃ i** - OpenRouterException, SpeechProcessingException
- ğŸ“ **Lá»—i xá»­ lÃ½ file** - IOException, JsonProcessingException

#### ğŸ“ Ghi log lá»—i & ThÃ´ng bÃ¡o
```java
@ExceptionHandler(Exception.class)
public ResponseDTO<String> handleException(Exception ex, HttpServletRequest request) {
    // ğŸ“‹ Táº¡o log lá»—i chi tiáº¿t
    ErrorDTO errorDTO = ErrorDTO.builder()
        .message("MÃ´ táº£ lá»—i")
        .status(HttpStatus.INTERNAL_SERVER_ERROR.value())
        .detail(ex.getMessage())
        .instance(request.getMethod() + " " + request.getRequestURI())
        .timestamp(LocalDateTime.now())
        .errorCode(ErrorApiCodeContent.UNEXPECTED_ERROR)
        .severity(SeverityEnum.HIGH)
        .build();
    
    // ğŸš¨ Gá»­i thÃ´ng bÃ¡o Ä‘áº¿n Discord
    discordNotifier.buildErrorAndSend(errorDTO);
    
    return ResponseDTO.fail("CÃ³ lá»—i xáº£y ra", ex.getMessage());
}
```

#### ğŸš¦ Má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a lá»—i

<div align="center">

| Má»©c Ä‘á»™ | Icon | MÃ´ táº£ |
|--------|------|-------|
| ğŸŸ¢ **LOW** | âš ï¸ | Lá»—i validation, váº¥n Ä‘á» nhá» |
| ğŸŸ¡ **MEDIUM** | âš ï¸ | Lá»—i business logic, lá»—i xá»­ lÃ½ dá»¯ liá»‡u |
| ğŸ”´ **HIGH** | ğŸš¨ | Lá»—i há»‡ thá»‘ng, váº¥n Ä‘á» báº£o máº­t, lá»—i API bÃªn ngoÃ i |

</div>

#### ğŸ’¬ TÃ­ch há»£p Discord
ThÃ´ng bÃ¡o lá»—i tá»± Ä‘á»™ng Ä‘Æ°á»£c gá»­i Ä‘áº¿n Discord webhook bao gá»“m:
- ğŸ“ Chi tiáº¿t lá»—i vÃ  stack trace
- ğŸŒ ThÃ´ng tin request (method, URI, parameters)
- ğŸ‘¤ Context ngÆ°á»i dÃ¹ng vÃ  thá»i gian
- ğŸš¦ Má»©c Ä‘á»™ nghiÃªm trá»ng vÃ  mÃ£ lá»—i

---

## ğŸ—„ï¸ Cáº¥u trÃºc Database

### ğŸ“Š CÃ¡c báº£ng chÃ­nh (Tá»•ng cá»™ng 52 báº£ng)

#### ğŸ‘¤ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- ğŸ‘¥ `users` - TÃ i khoáº£n vÃ  há»“ sÆ¡ ngÆ°á»i dÃ¹ng
- ğŸ“ˆ `process` - Theo dÃµi tiáº¿n Ä‘á»™ há»c táº­p

#### ğŸ“š Ná»™i dung há»c táº­p
- ğŸ—‚ï¸ `topic` - Chá»§ Ä‘á» há»c táº­p
- ğŸ“– `vocabulary` - Äá»‹nh nghÄ©a vÃ  vÃ­ dá»¥ tá»« vá»±ng
- ğŸ“ `grammar` - Quy táº¯c vÃ  bÃ i táº­p ngá»¯ phÃ¡p
- ğŸ‘ï¸ `reading` - TÃ i liá»‡u Ä‘á»c hiá»ƒu
- ğŸ‘‚ `listening` - BÃ i há»c dá»±a trÃªn Ã¢m thanh
- ğŸ—£ï¸ `speaking` - PhiÃªn luyá»‡n nÃ³i
- âœï¸ `writing` - BÃ i táº­p viáº¿t

#### ğŸ“Š Há»‡ thá»‘ng Ä‘Ã¡nh giÃ¡
- ğŸ“‹ `test` - Cáº¥u trÃºc bÃ i kiá»ƒm tra chung
- ğŸ‘ï¸ `test_reading`, ğŸ‘‚ `test_listening`, ğŸ—£ï¸ `test_speaking`, âœï¸ `test_writing` - Kiá»ƒm tra theo ká»¹ nÄƒng
- ğŸ† `toeic` - Quáº£n lÃ½ bÃ i thi TOEIC
- ğŸ“Š `toeic_part1` Ä‘áº¿n `toeic_part7` - CÃ¡c pháº§n cá»§a bÃ i thi TOEIC
- ğŸ¥‡ `competition_test` - ÄÃ¡nh giÃ¡ thi Ä‘áº¥u

#### ğŸ“ Theo dÃµi bÃ i ná»™p
- ğŸ“¤ `submit_test` - BÃ i kiá»ƒm tra Ä‘Ã£ ná»™p
- ğŸ† `submit_toeic` - BÃ i TOEIC Ä‘Ã£ ná»™p
- ğŸ¥‡ `submit_competition` - BÃ i thi Ä‘áº¥u Ä‘Ã£ ná»™p
- ğŸ“‹ CÃ¡c báº£ng cÃ¢u tráº£ lá»i liÃªn quan Ä‘á»ƒ theo dÃµi chi tiáº¿t

#### âš™ï¸ Quáº£n lÃ½ há»‡ thá»‘ng
- ğŸš¨ `error_log` - Theo dÃµi lá»—i há»‡ thá»‘ng
- ğŸ¤– `airesponse` - Quáº£n lÃ½ pháº£n há»“i AI

### âš™ï¸ Cáº¥u hÃ¬nh Database
```properties
# ğŸ¬ MySQL 8 vá»›i cáº¥u hÃ¬nh tá»‘i Æ°u
spring.datasource.url=jdbc:mysql://localhost:3307/study-english
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
```

---

## ğŸ“ˆ Hiá»‡u suáº¥t vÃ  Kháº£ nÄƒng má»Ÿ rá»™ng

### ğŸ“¤ Cáº¥u hÃ¬nh File Upload
```properties
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
server.tomcat.connection-timeout=300000ms
server.tomcat.max-http-form-post-size=50MB
```

### âš¡ Cáº¥u hÃ¬nh Async
```properties
spring.mvc.async.request-timeout=300000
server.undertow.io-threads=4
server.undertow.worker-threads=20
```

---

## ğŸ§ª Testing vÃ  Documentation

### ğŸ“– TÃ i liá»‡u API
- ğŸ“š **Swagger UI:** CÃ³ sáºµn táº¡i `/swagger-ui.html`
- ğŸ“‹ **OpenAPI 3.0:** TÃ i liá»‡u API toÃ n diá»‡n
- ğŸ§ª **Testing tÆ°Æ¡ng tÃ¡c:** Test endpoints trá»±c tiáº¿p tá»« trÃ¬nh duyá»‡t

### ğŸ› ï¸ CÃ´ng cá»¥ phÃ¡t triá»ƒn
- ğŸ”„ **Spring Boot DevTools** - Hot reload trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn
- ğŸ—ƒï¸ **H2 Console** - Kiá»ƒm tra database (chá»‰ development)
- ğŸ“ **Logging** - Logging toÃ n diá»‡n vá»›i cÃ¡c má»©c Ä‘á»™ khÃ¡c nhau

---

## ğŸ¤ ÄÃ³ng gÃ³p

### ğŸ”„ Quy trÃ¬nh phÃ¡t triá»ƒn
1. ğŸ´ Fork repository
2. ğŸŒ¿ Táº¡o feature branch
3. âœï¸ Thá»±c hiá»‡n thay Ä‘á»•i
4. ğŸ§ª Viáº¿t tests cho tÃ­nh nÄƒng má»›i
5. ğŸ“¤ Submit pull request

### ğŸ“ Chuáº©n code
- âœ… TuÃ¢n theo best practices cá»§a Spring Boot
- ğŸ›¡ï¸ Sá»­ dá»¥ng xá»­ lÃ½ lá»—i phÃ¹ há»£p
- ğŸ“– TÃ i liá»‡u hÃ³a API endpoints má»›i
- ğŸ“Š Duy trÃ¬ test coverage

---

## ğŸ“ Há»— trá»£ vÃ  LiÃªn há»‡

<div align="center">

| ğŸ“§ **Email** | ğŸ« **TrÆ°á»ng** | ğŸ“ **Khoa** |
|-------------|---------------|-------------|
| 21110434@student.hcmute.edu.vn | Äáº¡i há»c SÆ° pháº¡m Ká»¹ thuáº­t TP.HCM | CÃ´ng nghá»‡ ThÃ´ng tin |
| (TrÆ°á»Ÿng nhÃ³m) | (HCMUTE) | |

</div>

---

## ğŸ“ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y lÃ  má»™t pháº§n cá»§a luáº­n vÄƒn tá»‘t nghiá»‡p vÃ  Ä‘Æ°á»£c dá»± Ä‘á»‹nh cho má»¥c Ä‘Ã­ch giÃ¡o dá»¥c.

---

<div align="center">

### ğŸ“ **H2T-English Backend** ğŸš€
**ÄÆ°á»£c phÃ¡t triá»ƒn vá»›i â¤ï¸ bá»Ÿi sinh viÃªn HCMUTE**

<img src="https://img.shields.io/badge/Made%20with-â¤ï¸-red?style=for-the-badge" alt="Made with Love"/>
<img src="https://img.shields.io/badge/HCMUTE-2024-blue?style=for-the-badge" alt="HCMUTE 2024"/>

</div>